# -*- coding: utf-8 -*-
"""streamlit

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/156fBh3-ex6TRh5-g_URbyrPtExvXTpQO
"""

import streamlit as st
import pandas as pd
import numpy as np
import joblib

# Load the pre-trained model
model = joblib.load('xgbpipe.joblib')

# Set up the title and description
st.title('Tehran House Price Prediction App')
st.write("Enter the house details to predict the price.")

# Input fields for user data
area = st.number_input("Area (sq meters)", 10, 1000, 100)
room = st.number_input("Number of Rooms", 1, 10, 2)
parking = st.selectbox("Parking Available", [True, False])
warehouse = st.selectbox("Warehouse Available", [True, False])
elevator = st.selectbox("Elevator Available", [True, False])
address = st.text_input("Address", "Shahran")

# Prediction function
def predict():
    # Prepare input data as a DataFrame
    input_data = pd.DataFrame({
        'Area': [area],
        'Room': [room],
        'Parking': [parking],
        'Warehouse': [warehouse],
        'Elevator': [elevator],
        'Address': [address]
    })

    # Predict house price
    prediction = model.predict(input_data)

    # Display the result
    st.success(f'The predicted house price is: {prediction[0]:,.0f} IRR')

# Add a button to trigger prediction
if st.button('Predict'):
    predict()